{"version":3,"sources":["sounds/bell-start.mp3","sounds/bell-finish.mp3","utils/zero-left.ts","utils/seconds-to-time.ts","components/button.tsx","utils/seconds-to-minutes.ts","components/timer.tsx","components/pomodoro-timer.tsx","hooks/use-interval.tsx","App.tsx","index.tsx"],"names":["zeroLeft","n","Math","floor","toString","padStart","secondsToTime","seconds","hours","min","sec","Button","props","onClick","className","text","secondsToMinutes","Timer","mainTime","bellStart","require","bellFinish","audioStartWorking","Audio","audioFinishWorking","PomodoroTimer","useState","pomodoroTime","setMainTime","timeCounting","setTimeCounting","working","setWorking","resting","setResting","Array","cycles","fill","cyclesQtdManager","setCyclesQtdManager","completedCycles","setCompletedCycles","fullWorkingTime","setFullWorkingTime","numberOfPomodoros","setNumberOfPomodoros","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","configureWork","useCallback","play","configureRest","Long","longRestTime","shortRestTime","document","body","classList","add","remove","length","pop","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b0a91053.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bell-start.d01df824.mp3\";","export default __webpack_public_path__ + \"static/media/bell-finish.6b59c479.mp3\";","const zeroLeft = (n: number) => Math.floor(n).toString().padStart(2, '0');\n\nexport { zeroLeft };\n","import { zeroLeft } from './zero-left';\n\nexport function secondsToTime(seconds: number): string {\n  const hours = zeroLeft(seconds / 3600);\n  const min = zeroLeft((seconds / 60) % 60);\n  const sec = zeroLeft((seconds % 60) % 60);\n  return `${hours}:${min}:${sec}`;\n}\n","import React from 'react';\n\ninterface Props {\n  text: string;\n  onClick: () => void;\n  className?: string;\n}\n\nexport function Button(props: Props): JSX.Element {\n  return (\n    <div>\n      <button onClick={props.onClick} className={props.className}>\n        {props.text}\n      </button>\n    </div>\n  );\n}\n","import { zeroLeft } from './zero-left';\n\nexport function secondsToMinutes(seconds: number): string {\n  const min = zeroLeft((seconds / 60) % 60);\n  const sec = zeroLeft((seconds % 60) % 60);\n  return `${min}:${sec}`;\n}\n","import React from 'react';\n\nimport { secondsToMinutes } from '../utils/seconds-to-minutes';\n\ninterface Props {\n  mainTime: number;\n}\n\nexport function Timer(props: Props): JSX.Element {\n  return <div className=\"timer\">{secondsToMinutes(props.mainTime)}</div>;\n}\n","import React from 'react';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { useInterval } from '../hooks/use-interval';\nimport { secondsToTime } from '../utils/seconds-to-time';\nimport { Button } from './button';\nimport { Timer } from './timer';\n\n/* eslint-disable @typescript-eslint/no-var-requires */\nconst bellStart = require('../sounds/bell-start.mp3');\nconst bellFinish = require('../sounds/bell-finish.mp3');\n\nconst audioStartWorking = new Audio(bellStart);\nconst audioFinishWorking = new Audio(bellFinish);\n\ninterface Props {\n  pomodoroTime: number;\n  shortRestTime: number;\n  longRestTime: number;\n  cycles: number;\n}\n\nexport function PomodoroTimer(props: Props): JSX.Element {\n  const [mainTime, setMainTime] = useState(props.pomodoroTime);\n  const [timeCounting, setTimeCounting] = useState(false);\n  const [working, setWorking] = useState(false);\n  const [resting, setResting] = useState(false);\n  const [cyclesQtdManager, setCyclesQtdManager] = useState(\n    new Array(props.cycles - 1).fill(true),\n  );\n  const [completedCycles, setCompletedCycles] = useState(0);\n  const [fullWorkingTime, setFullWorkingTime] = useState(0);\n  const [numberOfPomodoros, setNumberOfPomodoros] = useState(0);\n\n  useInterval(\n    () => {\n      setMainTime(mainTime - 1);\n      if (working) setFullWorkingTime(fullWorkingTime + 1);\n    },\n    timeCounting ? 1000 : null,\n  );\n\n  const configureWork = useCallback(() => {\n    setTimeCounting(true);\n    setWorking(true);\n    setResting(false);\n    setMainTime(props.pomodoroTime);\n    audioStartWorking.play;\n  }, [\n    setTimeCounting,\n    setWorking,\n    setResting,\n    setMainTime,\n    props.pomodoroTime,\n  ]);\n\n  const configureRest = useCallback(\n    (Long: boolean) => {\n      setTimeCounting(true);\n      setWorking(false);\n      setResting(true);\n      if (Long) {\n        props.longRestTime;\n      }\n      props.shortRestTime;\n      audioFinishWorking.play;\n    },\n    [setTimeCounting, setWorking, setResting, setMainTime, setMainTime],\n  );\n\n  useEffect(() => {\n    if (working) return document.body.classList.add('working');\n    if (resting) return document.body.classList.remove('working');\n    if (mainTime > 0) return;\n    if (working && cyclesQtdManager.length > 0) {\n      configureRest(false);\n      cyclesQtdManager.pop();\n    }\n    if (working && cyclesQtdManager.length <= 0) {\n      configureRest(true);\n      setCyclesQtdManager(new Array(props.cycles - 1).fill(true));\n      setCompletedCycles(completedCycles + 1);\n    }\n    if (working) setNumberOfPomodoros(numberOfPomodoros + 1);\n    if (resting) configureWork();\n  }, [\n    working,\n    resting,\n    mainTime,\n    configureRest,\n    configureWork,\n    setCyclesQtdManager,\n    numberOfPomodoros,\n    props.cycles,\n  ]);\n\n  return (\n    <div className=\"pomodoro\">\n      <h2>\n        You{`'`}re {working ? 'Working' : 'Resting'}\n      </h2>\n      <Timer mainTime={mainTime} />\n      <div className=\"controls\">\n        <Button\n          text=\"Work\"\n          className=\"button\"\n          onClick={() => configureWork()}\n        />\n        <Button\n          text=\"Rest\"\n          className=\"button\"\n          onClick={() => configureRest(false)}\n        />\n        <Button\n          text={timeCounting ? 'Pause' : 'Play'}\n          className={!working && !resting ? 'hidden' : ''}\n          onClick={() => setTimeCounting(!timeCounting)}\n        />\n      </div>\n      <div className=\"details\">\n        <p>Ciclos conclu√≠dos: {completedCycles}</p>\n        <p>Horas trabalhadas: {secondsToTime(fullWorkingTime)}</p>\n        <p>Pomodoros feitos: {numberOfPomodoros}</p>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useRef } from 'react';\n\nexport function useInterval<C extends CallableFunction>(\n  callback: C,\n  delay: number | null,\n): void {\n  const savedCallback = useRef<C>();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      if (savedCallback.current) savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n","import React from 'react';\n\nimport { PomodoroTimer } from './components/pomodoro-timer';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <PomodoroTimer\n        pomodoroTime={1500}\n        shortRestTime={300}\n        longRestTime={900}\n        cycles={4}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}